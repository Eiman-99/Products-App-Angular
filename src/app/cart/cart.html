<div class="container mt-4">
  <h2 class="mb-4">Your Cart</h2>

  @if (cartItems().length === 0) {
    <p>Your cart is empty.</p>
  } @else {
    <div class="list-group">
      @for (item of cartItems(); track item.id) {
        <div class="list-group-item d-flex flex-column flex-md-row justify-content-between align-items-center gap-3">
          
          <div class="d-flex flex-column flex-sm-row align-items-center gap-3 w-50 w-md-50">
            <img [src]="item.thumbnail" class="product-img bg-light" alt="" style="width: 80px; height: 80px; object-fit: cover;" />
            <div class="text-center text-sm-start">
              <h5 class="mb-1">{{ item.title }}</h5>
              <p class="mb-0">${{ item.price }} × {{ item.quantity }}</p>
            </div>
          </div>

          <div class="btn-group my-2 my-md-0" role="group">
            <button class="btn btn-outline-secondary btn-sm" (click)="decrement(item.id)">−</button>
            <button class="btn btn-outline-secondary btn-sm" disabled>{{ item.quantity }}</button>
            <button
              class="btn btn-outline-secondary btn-sm"
              (click)="increment(item)"
              [disabled]="item.quantity >= 5"
            >+</button>
          </div>

          <button class="btn btn-danger btn-sm mt-2 mt-md-0" (click)="removeFromCart(item.id)">Remove</button>
        </div>
      }
    </div>

    <div class="mt-4 text-end">
      <h5>Total: ${{ total.toFixed(2) }}</h5>
      <button class="btn btn-primary">Checkout</button>
    </div>
  }
</div>
